require(["jquery","//60.205.223.68:8080/cdn/mobile/common/core/core.2d6dd1f1da.js","//60.205.223.68:8080/cdn/mobile/common/vue/vue.4ae77bfe9f.js","//60.205.223.68:8080/cdn/mobile/common/mint-ui/index.097b328481.js"],function(e,t,r,i){"use strict";r.use(i);var n=new r({el:"#app",data:{startTime:{value:new Date,error:!1,tip:""},endTime:{value:new Date("2017-08-01"),error:!1,tip:""},timePickerValue:new Date,currentInput:"",title:{value:"dwdw",error:!1,tip:"请填写"},address:{value:"caz",error:!1,tip:"请填写"},event_url:{value:"rwree",error:!1,tip:"请填写"}},methods:{openTimePicker:function(e){this.currentInput=e,this.$refs.timePicker.open()},postEvent:function(){var r={title:{required:!0},address:{required:!0},event_url:{required:!0}};return this.validate(r)?(n.$indicator.open(),void e.post("/web/bookhero/event/create",{title:this.title.value,startTime:t.formatTime(this.startTime.value),endTime:t.formatTime(this.endTime.value),address:this.address.value,eventUrl:this.event_url.value},function(e){n.$indicator.close(),console.log(e),200==e.retcode?n.$messagebox.alert("活动发布成功。").then(function(){document.location.reload()}):n.$messagebox.alert(e.retdesc)})):!1},reset:function(){},validate:function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t].required&&!this[t].value)return this[t].error=!0,this[t].tip="请填写",!1;return this.startTime.value<this.endTime.value?!0:(this.startTime.error=!0,this.startTime.tip="开始时间需要小于结束时间",!1)}},computed:{startTimeStr:function(){return t.formatTime(this.startTime.value,"yyyy-MM-dd hh:mm")},endTimeStr:function(){return t.formatTime(this.endTime.value,"yyyy-MM-dd hh:mm")}},watch:{timePickerValue:function(e){"start"==this.currentInput?this.startTime.value=e:"end"==this.currentInput&&(this.endTime.value=e)}}})});